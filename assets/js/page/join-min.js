window.addEventListener("load",(()=>{const e=document.querySelector("div#loading-icon");document.querySelector("form#join-form").addEventListener("submit",(t=>{t.preventDefault(),e.classList.remove("hide");const s=document.querySelector("span#no-party-found-error");s.classList.add("hide");const a=t.target.querySelector("input#party-code");let d=a.value;if(""!==d&&(d=d.trim()),""===d)return s.classList.remove("hide"),e.classList.add("hide"),void(a.value="");fetch(`assets/php/website/databaseHandler.php?type=checkPartyExistsUser&partyId=${d}`,{method:"GET"}).then((e=>e.json())).then((t=>{t.partyExists?window.location.href=`party.html?session_code=${d}`:s.classList.remove("hide"),e.classList.add("hide")})).catch((e=>{})),a.value=""}))}));