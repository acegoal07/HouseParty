class CollapsibleHandler{constructor(){this.collapsible=null,this.init()}init(){this.setupCollapsibleItems()}open(l,e){if(l===this.collapsible)return;e&&e(),this.collapsible=l,this.collapsible.classList.add("open");const s=this.collapsible.querySelector("div.collapsible-content");s.style.display="block",s.style.setProperty("--content-height",s.scrollHeight+"px"),s.style.animation="expand-collapsible-item 0.5s forwards"}close(l){if(!this.collapsible)return;this.collapsible.classList.remove("open");const e=this.collapsible.querySelector("div.collapsible-content");e.style.setProperty("--content-height",e.scrollHeight+"px"),e.style.animation="collapse-collapsible-item 0.5s forwards",this.collapsible=null,setTimeout((()=>{l&&l(),e.style.display="none"}),500)}getCollapsible(){return this.collapsible}setupCollapsibleItems(){document.querySelectorAll(".collapsible-item").forEach((l=>{const e=e=>{if("click"===e.type||"keydown"===e.type&&("Enter"===e.key||" "===e.key)){if(!(e.target.classList.contains("collapsible-item")||e.target.classList.contains("collapsible-title")||e.target.classList.contains("collapsible-icon")))return;null===this.collapsible?this.collapsible===l?this.close():this.open(l):this.collapsible===l?this.close():(this.close(),this.open(l))}};l.addEventListener("click",e),l.addEventListener("keydown",e)}))}}const collapsibleHandler=new CollapsibleHandler;