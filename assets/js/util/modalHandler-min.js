class ModalHandler{constructor(){this.modal=null,this.init()}init(){window.addEventListener("load",(()=>{this.setupModalOpeners(),this.setupModalClosers(),this.setupCustomEvents()}))}open(t,e){if(this.modal||!t)return;const s=document.querySelector(t);s&&(e&&e(),this.modal=s,this.modal.style.animation="modal-open 0.4s forwards",this.modal.style.display="flex")}close(t){this.modal&&(this.modal.style.animation="modal-close 0.4s forwards",setTimeout((()=>{this.modal.style.display="none",this.modal=null,t&&t()}),400))}getModal(){return this.modal}setupModalOpeners(){document.body.addEventListener("click",(t=>{const e=t.target.closest(".modal-opener");if(e){const t=e.getAttribute("modal-target");this.open(`div#${t}`)}}))}setupModalClosers(){document.body.addEventListener("click",(t=>{const e=t.target.closest(".modal-closer");e&&this.modal?.contains(e)&&this.close()}))}setupCustomEvents(){document.addEventListener("openModal",(t=>{if(t.detail){const{target:e,callback:s}=t.detail;this.open(`div#${e}`,s)}else this.open(`div#${target}`)})),document.addEventListener("closeCurrentModal",(t=>{if(t.detail){const{callback:e}=t.detail;this.close(e)}else this.close()}))}}const ModalHandlerInstance=new ModalHandler;